---
import ThemeToggle from "./ThemeToggle.astro";

const pathname = new URL(Astro.request.url).pathname;
const pages = ["projects"];

function capitalizeWord(word: string) {
  return word.charAt(0).toUpperCase() + word.slice(1);
}
---

<header>
  <nav
    class="mt-5 flex flex-col items-center gap-4 px-7 sm:flex-row sm:items-center sm:justify-between sm:gap-0 lg:mx-auto lg:w-8/12 lg:p-0"
  >
    <a
      class="rounded-md font-brand text-4xl tracking-wider hover:text-green-700 focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-green-700 dark:hover:text-green-300 dark:focus-visible:ring-green-600 sm:mr-auto"
      href="/">ingadi.work</a
    >
    <ul class="mr-4 flex items-center gap-4 text-xl">
      <li
        class:list={[
          "font-bold tracking-wide transition-all",
          {
            "text-green-700 underline decoration-sage-700 decoration-wavy dark:text-green-300 dark:decoration-sage-500":
              pathname === "/" || /^\/blog/.test(pathname),
          },
          {
            "text-current  hover:text-green-700 dark:text-yellow-400 dark:hover:text-green-300":
              !(pathname === "/" || /^\/blog/.test(pathname)),
          },
        ]}
      >
        <a
          class="rounded-md focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-green-700 dark:focus-visible:ring-green-600"
          href="/">Blog</a
        >
      </li>
      {
        pages.map((page) => (
          <li
            class:list={[
              "font-bold tracking-wide transition-all",
              {
                "text-green-700 underline decoration-sage-700 decoration-wavy dark:text-green-300 dark:decoration-sage-500":
                  new RegExp(`^\/${page}*`).test(pathname),
              },
              {
                "text-current  hover:text-green-700 dark:text-yellow-400 dark:hover:text-green-300":
                  !new RegExp(`^\/${page}*`).test(pathname),
              },
            ]}
          >
            <a
              class="rounded-md focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-green-700 dark:focus-visible:ring-green-600"
              href={`/${page}`}
            >
              {capitalizeWord(page)}
            </a>
          </li>
        ))
      }
      <li>
        <ThemeToggle />
      </li>
    </ul>
  </nav>
</header>
